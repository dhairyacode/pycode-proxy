/* Base Setup */
body {
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    transition: background-color 0.4s ease, color 0.4s ease;
}

/* Light / Dark Theme */
body.light-mode { background-color: #f5f5f5; color: #1e1e1e; }
body.dark-mode { background-color: #1e1e1e; color: #c5c5c5; }

/* Header Styling */
.app-header { text-align: center; padding: 2rem 0 1rem 0; }
.app-header h1 {
    font-size: 5rem;
    font-weight: bold;
    background: linear-gradient(135deg, #a259ff, #ff79c6, #ffffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* Animated typing text */
.animated-text {
    margin-top: 1rem;
    font-family: 'Courier New', Courier, monospace;
    font-size: 1.5rem;
    min-height: 2rem;
    white-space: nowrap;
    overflow: hidden;
    border-right: 2px solid currentColor;
    padding-right: 5px;
}

/* Control Panel */
.control-panel {
    position: fixed; top: 20px; left: 20px;
    background-color: #2b2b2b; padding: 1rem 1.5rem; border-radius: 12px;
    display: flex; flex-direction: column; gap: 1rem;
    box-shadow: 0 8px 20px rgba(0,0,0,0.7);
}
.control-group { display: flex; align-items: center; gap: 1rem; font-size: 1rem; color: #c5c5c5; }
select { appearance: none; background-color: #333; color: #c5c5c5; border: none;
    padding: 0.6rem 1rem; border-radius: 8px; cursor: pointer; font-size: 1rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23c5c5c5" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>');
    background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 1rem;
}
select:focus { outline: none; box-shadow: 0 4px 15px rgba(0, 255, 0, 0.8); transform: translateY(-2px); }

/* Interaction Container */
.interaction-container {
    position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
    width: 90%; max-width: 800px; height: 350px;
    background-color: #2b2b2b; border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.7); display: flex; flex-direction: column; overflow: hidden;
}
body.light-mode .interaction-container { background-color: #f5f5f5; color: #1e1e1e; }
body.dark-mode .interaction-container { background-color: #1e1e1e; color: #c5c5c5; }

/* Scrollable messages area */
.messages-container { flex: 1; padding: 1rem 1.5rem; overflow-y: auto; display: flex; flex-direction: column; gap: 1rem; }

/* Chat Messages */
.chat-message {
    font-family: 'Courier New', Courier, monospace;
    font-size: 1.15rem;
    padding: 0.8rem 1rem;
    border-radius: 12px;
    line-height: 1.5;
    max-width: 90%;
    word-wrap: break-word;
}
.chat-message.left { align-self: flex-start; background-color: #444; color: #fff; }
body.light-mode .chat-message.left { background-color: #e1e1e1; color: #1e1e1e; }
.chat-message.right { align-self: flex-end; background-color: #007bff; color: #fff; }
body.light-mode .chat-message.right { background-color: #00aaff; color: #000; }

/* User Input Container */
.user-input-container { display: flex; align-items: center; gap: 1rem; padding: 0.5rem 1rem; border-top: 1px solid rgba(255,255,255,0.2); }
.user-input-container input { flex-grow: 1; padding: 0.75rem 1rem; border-radius: 25px; border: none; font-family: 'Courier New', Courier, monospace; font-size: 1rem; background-color: #333; color: #c5c5c5; }
body.light-mode .user-input-container input { background-color: #ddd; color: #1e1e1e; }
.user-input-container button { width: 45px; height: 45px; background-color: #007bff; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }

/* Footer Text */
footer.footer-text {
    text-align: center; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 0.95rem; position: fixed; bottom: 0; left: 0; width: 100%;
    padding: 0.5rem 0; z-index: 1000; background-color: transparent;
    transition: color 0.4s ease, background-color 0.4s ease;
}
body.light-mode footer.footer-text { color: #1e1e1e; }
body.dark-mode footer.footer-text { color: #c5c5c5; }
footer.footer-text a { color: #1e90ff; text-decoration: none; font-weight: bold; }

/* PYCODE code container style */
.pycode-container {
    font-family: 'Courier New', Courier, monospace;
    font-size: 1rem;
    background-color: #1e1e1e;
    color: #00ff00;
    padding: 1rem;
    border-radius: 12px;
    overflow-x: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
}
body.light-mode .pycode-container { background-color: #e1e1e1; color: #007700; }

/* Server Wakeup / Thinking Container */
.server-wakeup {
  display: none; /* hidden by default */
  position: absolute;
  top: 1rem;
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0,0,0,0.8);
  color: #fff;
  padding: 0.8rem 1rem;
  border-radius: 12px;
  font-family: 'Courier New', Courier, monospace;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  z-index: 10;
  width: calc(100% - 2rem);
  justify-content: center;
  pointer-events: none; /* allows clicks to pass through */
}

body.light-mode .server-wakeup { background-color: rgba(230,230,230,0.9); color: #111; }

/* Dancing bars */
.dance-bar {
  display: flex;
  align-items: flex-end;
  gap: 3px;
}

.dance-bar span {
  width: 4px;
  height: 8px;
  background-color: #00ff00;
  display: block;
  animation: dance 0.6s infinite ease-in-out;
}

.dance-bar span:nth-child(2) { animation-delay: 0.2s; }
.dance-bar span:nth-child(3) { animation-delay: 0.4s; }

@keyframes dance {
  0%, 100% { height: 8px; }
  50% { height: 16px; }
}

/* Adjust textarea for Shift+Enter scroll */
.user-input-container textarea {
  flex-grow: 1;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  border: none;
  font-family: 'Courier New', Courier, monospace;
  font-size: 1rem;
  resize: none;
  max-height: 80px;
  overflow-y: auto;
  background-color: #333;
  color: #c5c5c5;
}
body.light-mode .user-input-container textarea {
  background-color: #ddd;
  color: #1e1e1e;
}